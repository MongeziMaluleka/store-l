{% comment %}
  Welcome to Shopify theme development!
{% endcomment %}
<div class="announcement-bar" role="region" aria-label="Store announcement">
  <a class="announcement-bar__inner" href="{{ routes.collections_url }}">
    ðŸŽ‰ Free shipping over R500 this week â€” Shop collections â†’
  </a>
</div>

<div class="hero hero--{{ section.id }}">
  <div class="welcome-content">
    <div>
      <h1>Welcome to {{ shop.name }}</h1>

      <p class="welcome-description">
        Shop our latest collection now.
      </p>
    </div>
    {% comment %} <div  class="backrgound-image">
      <img src="{{ 'hero.jpg' | asset_url }}" width="400" height="400" alt="Hero Image">
    </div> {% endcomment %}

    {% comment %} <div class="icon">
      <img src="{{ 'shoppy-x-ray.svg' | asset_url }}" width="300" height="300">
    </div> {% endcomment %}
  </div>
</div>
<div class="collections-featured">
  <h2>Shop by Category</h2>
  <h1 class="collections-featured__title">{{ 'collections.title' | t }}</h1>

  <div class="collections-featured__grid">
    {% for collection in collections %}
      <a class="collection-card" href="{{ collection.url }}">
        {% if collection.image %}
          {{ collection.image | image_url: width: 800 | image_tag: alt: collection.title, loading: 'lazy', class: 'collection-card__image' }}
        {% elsif collection.featured_image %}
          {{ collection.featured_image | image_url: width: 800 | image_tag: alt: collection.title, loading: 'lazy', class: 'collection-card__image' }}
        {% endif %}

        <div class="collection-card__content">
          <p class="collection-card__title">{{ collection.title }}</p>
          {% if collection.description %}
            <p class="collection-card__desc">{{ collection.description | strip_html | truncatewords: 15 }}</p>
          {% endif %}
        </div>
      </a>
    {% endfor %}
  </div>
</div>


<div class="featured">
  <div class="collection">
    <h2>Featured Collection</h2>
    <p>Shop our latest collection now.</p>

    {%- assign normalized_handle = section.settings.featured_handle | handle -%}
    {%- assign featured_coll = section.settings.collection | default: collections[normalized_handle] -%}

    {%- if featured_coll and featured_coll.products_count > 0 -%}
      <div class="products" role="list">
        {%- for product in featured_coll.products limit: section.settings.limit -%}
          <article class="product" role="listitem">
            <a class="product__link" href="{{ product.url }}" aria-label="{{ product.title | escape }}">
              {%- if product.featured_media and product.featured_media.preview_image -%}
                {{ product.featured_media.preview_image
                   | image_url: width: 540
                   | image_tag: alt: product.title, loading: 'lazy', class: 'product__image' }}
              {%- elsif product.featured_image -%}
                <img
                  class="product__image"
                  src="{{ product.featured_image | img_url: '540x' }}"
                  alt="{{ product.title | escape }}"
                  loading="lazy">
              {%- else -%}
                {%- assign first_media = product.media | first -%}
                {%- if first_media and first_media.preview_image -%}
                  {{ first_media.preview_image
                     | image_url: width: 540
                     | image_tag: alt: product.title, loading: 'lazy', class: 'product__image' }}
                {%- else -%}
                  <div class="no-image" aria-hidden="true">No image</div>
                {%- endif -%}
              {%- endif -%}

              <h3 class="product__title">{{ product.title }}</h3>
              <p class="product__price">{{ product.price | money }}</p>
            </a>
          </article>
        {%- endfor -%}
      </div>

      <p class="featured__cta">
        <a href="{{ featured_coll.url }}">View all</a>
      </p>
    {%- else -%}
      <p class="featured-empty">No products found in this collection.</p>
    {%- endif -%}
  </div>
</div>

{%- style -%}
  .hero {
    display: grid;
    /* grid-template-columns: minmax(1rem, 1fr) minmax(auto, 1200px) minmax(1rem, 1fr); */
    padding: 4rem 0;
    background-color: #e5eaf5ff;
    background-image: url('{{ 'hero.jpg' | asset_url }}');
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
    position: relative;
    min-height: 400px;
  }

  

  /* .hero .backrgound-image img {
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    width: 400px;
    height: auto;
  } */

  .welcome-content {
    /* grid-column: 2; */
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 200px;
    gap: 1rem;
    width: 100%;
    padding: 0 24px;
  }

  .welcome-description {
    max-width: 80ch;
    line-height: 1.4;
    margin-top: 0.5rem;
  }

  .icon {
    width: 300px;
  }

  .highlights {
    display: grid;
    gap: 2rem;
    grid-template-columns: repeat(3, 1fr);
    margin-top: 50px;
  }

  @media (max-width: 1100px) {
    .highlights {
      grid-template-columns: 1fr;
    }
  }

  .highlight {
    display: flex;
    flex-direction: column;
    height: 100%;
    padding: 24px;
    border-radius: 8px;
    background-color: #eef3ff;
    color: rgb(92, 95, 98);
    line-height: 1.4;
  }

  .highlight > * + * {
    margin-top: 1rem;
  }

  .highlight h3 {
    font-size: 1rem;
    color: rgb(32, 34, 35);
  }

  .highlight-description {
    flex: 1 1;
  }

  .highlight a {
    display: flex;
    width: fit-content;
    background-color: rgb(250, 251, 251);
    box-shadow: rgba(0, 0, 0, 0.2) 0px -3px 0px 0px inset, rgba(255, 255, 255, 0.9) 0px 2px 0px 0px inset;
    border: 1px solid rgb(140, 145, 150);
    border-radius: 4px;
    color: rgb(92, 95, 98);
    padding: 3px 10px 5px;
    text-decoration: none;
  }

  .featured {
    
    display: grid;
    text-align: left;
    font-size: 18px;
    margin-top: 20px;
    margin-bottom: 40px;
    
    
  }
  .products {
    display: flex;
    gap: 20px;
    margin-top: 20px;
    
  }

  .product__title {
    font-size: 16px;
    margin: 10px 0 5px;
    margin-top: 10px;
    color:black;
    text-decoration: none;
    
  }

  .product__price {
    font-size: 14px;
    color: black;
    margin: 0;
  }

.featured__cta {
    margin-top: 20px;
    text-align: center;
}
  .announcement-bar {
    width: 100%;
    background: #111827; /* dark background */
    color: #ffffff;       /* white text */
  }
  .announcement-bar__inner {
    display: block;
    text-align: center;
    padding: 0.5rem 1rem;
    text-decoration: none;
    color: inherit;
    font-size: 14px;
  }
  .announcement-bar__inner:hover { text-decoration: underline; }

.collections-featured {
  justify-content: center;
    text-align: center;
    margin-top: 40px;
    margin-bottom: 40px;
    padding: 0 24px;
  }

  .collections-featured__title {
    font-size: 32px;
    margin: 10px 0 5px;
  }

  .collections-featured__grid {
    justify-content: center;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    
    gap: 0px;
    margin-top: 20px;
    max-width: 1200px;
  
    margin-left: auto;
  }

  .collection-card {
    text-decoration: none;
    color: inherit;
    border: 1px solid #e1e1e1;
    border-radius: 8px;
    overflow: hidden;
    background-color: #fff;
    transition: box-shadow 0.3s ease;
  }

  .collection-card:hover {
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }

  .collection-card__image {
    width: 100%;
    height: auto;
    display: block;
  }

  .collection-card__content {
    padding: 16px;
  }

  .collection-card__title {
    font-size: 18px;
    margin: 0 0 8px;
    color:black;
    
  }

  .collection-card__desc {
    font-size: 14px;
    color: #555;
    margin: 0;
  }
{%-endstyle -%}

{% schema %}
{
  "name": "Hero",
  "settings": [
    { "type": "collection", "id": "collection", "label": "Featured collection" },
    { "type": "text", "id": "featured_handle", "label": "Fallback handle", "default": "featured", "info": "Used if no collection is selected" },
    { "type": "range", "id": "limit", "label": "Products to show", "min": 1, "max": 12, "step": 1, "default": 8 }
  ],
  "presets": [
    { "name": "Hero", "category": "Demo" }
  ]
}
{% endschema %}
